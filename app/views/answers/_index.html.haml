%span.linkbutton= question.answers_count
- if current_user.answers.where(question_id: question.id).first.blank?
  %span.linkbutton.link_space= link_to 'Add Answer', new_question_answer_path(question)

%hr/
- question.answers.each do |answer|
  %span.answer= answer.answer
  %span.fullname= "- #{answer.user.full_name}"
  - if current_user == answer.user
    %span.fullname= link_to 'Edit', edit_question_answer_path(path(answer, question))

    %span.fullname= link_to 'Destroy', question_answer_path(path(answer, question)), method: :delete, data: { confirm: 'Are you sure?' }


  %hr


  - answer.comments.where("history_id IS NULL").each do |comment|
    - question_comment = Comment.show_history(comment.id)
    %p.answer-comment
      %span= question_comment.comment
      %span.fullname= "- #{question_comment.user.full_name}"
      - if current_user == comment.user
        %span.fullname= link_to 'Edit', edit_question_answer_comment_path(id: question_comment.id, answer_id: answer.id, question_id:question)
        - unless question_comment.check_history?
          %span.fullname= link_to 'Edited', comments_comment_history_path(history_id: question_comment.history_id, dont_show: question_comment.id)

        %span.fullname= link_to 'Destroy', question_answer_comment_path(id: question_comment.id,answer_id: answer.id, question_id:question), method: :delete, data: { confirm: 'Are you sure?' }
  .linkbutton= link_to 'Add comment', new_question_answer_comment_path(question,answer)

  %hr



